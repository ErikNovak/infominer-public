<h3>Clustering KMeans</h3>
<div class="method-parameters">
  <span>SELECTED FIELDS: </span>
  <span class="parameter-values">{{selectedFields}}</span>
</div>

<div class="clusters">
  {{#each clusters as |cluster index|}}
    <div class="row">
      <div class="col-lg-12">
        <div class="cluster-content">

          {{#if cluster.subsetCreated}}
              {{#link-to 'dataset.subset' dataset cluster.subsetId class="btn btn-secondary pull-right" }}
                Go to Subset
              {{/link-to}}
            {{else}}
              <button class="btn btn-primary pull-right" data-toggle="modal"
                data-target="{{concat '#create-subset-kmeans-' method.id '-' index}}">Create Subset</button>
          {{/if}}

          <h5 class="cluster-header">
            {{cluster.clusterLabel}}
          </h5>

          <p>{{cluster.documentCount}} documents</p>

          <div class="row">
            {{#each cluster.aggregates as |aggregate index|}}
              {{#if aggregate.distribution}}
                <div class="{{concat aggregate.columnlg ' ' aggregate.columnsm}}">
                  {{ component
                      (concat "aggregate-" aggregate.type)
                      field=aggregate.field
                      distribution=aggregate.distribution
                  }}
                </div>
              {{/if}}
            {{/each}}
          </div>
        </div><!-- .cluster-content -->

        {{ create-subset-modal-from-method id=(concat "create-subset-kmeans-" method.id "-" index)
          methodId=method.id clusterId=index cluster=cluster
          createSubset=createSubset type="KMeans Clustering"}}

      </div><!-- .col-lg-12 -->
    </div><!-- .row -->

  {{/each}}
</div>
{{yield}}