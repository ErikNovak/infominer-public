{{#if ontology.length }}
  <!-- button for toggling collapse -->
  <button class="btn btn-xs rotate {{if collapsed 'right'}}" data-toggle="collapse"
    aria-expanded="false" onclick={{action 'toggleBranch'}}>
    <i class="fa fa-chevron-down"></i>
  </button>
{{else if subset.documentCount}}
  <!-- placeholder for the toggle -->
  <span class="navigation-button-placeholder"></span>
{{else}}
  <span class="navigation-button-placeholder">
    <i class="fa fa-circle-o-notch fa-spin"></i>
  </span>
{{/if}}

{{#if subset.documentCount}}
  <!-- link to the subset information -->
  {{#link-to 'dataset.subset' subset }}
    {{ subset.label }}
  {{/link-to}}
  <small class="ml-1">({{subset.documentCount}} docs)</small>
{{else}}
  <!-- set placeholder -->
  <span class="subset-structure-placeholder">{{ subset.label }}</span>
{{/if}}

{{#bs-collapse collapsed=collapsed class="tree-branch"}}
  {{#each ontology as |method| }}

    <!-- subsets are joined to this method -->
    {{ structure-method method=method }}

  {{/each}}
{{/bs-collapse}}